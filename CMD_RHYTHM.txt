<!--
  http://www.cyross.com/pc8801wiki/index.php/Template:Version を参照して記述
-->

{{Version
|n =未確認
|n0=未確認
|ns=未確認
|v1=拡張(サウンドボードⅡ, 初代/mkⅡのみ)
|v2=拡張(サウンドボードⅡ)
|v3=Version 3.0(サウンドボードⅡ対応)<br/>Version 3.1
|n9=未確認
|86=未確認
|ms=未確認
}}

<!-- 
  http://www.cyross.com/pc8801wiki/index.php/Template:CommandCategory を参照し、
  BASICリファレンス目次 http://www.cyross.com/pc8801wiki/index.php/BASIC%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9 
  の分類にしたがって記述
-->

{{CommandCategory
|cat1=★★要記入★★
|cat2=★★要記入★★
}}

== 機能 ==
★ですます調に変更してください。
リズム音源の演奏データを登録

== 書式 ==
<!-- 
  ヘルプ ( http://www.cyross.com/pc8801wiki/index.php/%E3%83%98%E3%83%AB%E3%83%97 ) を参照。
  ・[A]    Aを省略可
  ・<A|B>  AまたはBを指定
  ・{A}    Aを繰り返し指定可能。省略も可。
-->

★ 書式に省略可能な繰り返し [,引数...] が含まれている場合は、{,引数} に変更してください。
CMD RHYTHM リズム番号 , 文字列型配列変数名

== 解説 ==

★なるべく、ですます調に変更してください。分量が多い場合はそのままで構いません。


リズム音源で演奏するためのリズムパターンを登録する。 CMD RHYTHMでは、短い(たとえば1小節の)長さの演奏データ(リズムパターン)にリズム番号(1～99)を付けて登録する。 複数のリズムパターンが登録できる。 CMD PLAYではそのリズム番号の並びを指定することで、リズム音源の演奏が実施される。

リズム音源は6つの音色を同時発声させることができ、1つのリズムパターン内に6音色分の演奏データを登録する。 演奏データはRML(Rhythm Macro Language)で記述し、文字列型配列変数の各要素にそれぞれ次のとおり登録する。配列変数の要素数は7以上が必要。 例として、OPTION BASE 0の設定で、配列変数を<code>DIM R$(6)</code>で宣言した場合で説明する。
; R$(1)
: バスドラムの演奏データ
; R$(2)
: スネアドラムの演奏データ
; R$(3)
: シンバルの演奏データ
; R$(4)
: ハイハットの演奏データ
; R$(5)
: タムの演奏データ
; R$(6)
: リムの演奏データ

R$(0)には、このリズムパターンの長さを四分音符の数で指定する。(<code>"1"</code>～<code>"4"</code>)

RMLの表記法は次のとおり。以下の表記でxは整数を表す。
{| class="wikitable"
|-
! 表記
! 意味
|-
| Rx
| 右チャンネルより出力。xは音量(0～31)。デフォルトは16。
|-
| Lx
| 左チャンネルより出力。xは音量でRと同様。
|-
| Mx
| 左右両チャンネルより出力。xは音量でRと同様。
|-
| Kx
| 音を出す。xは長さ(1～48)で、4分音符の12分の1を単位として指定。<br/>12で4分音符の長さ。省略時は1。
|-
| Cx
| 直前の状態を維持。xは長さでKと同様。
|-
| Dx
| 音を停止する。xは長さでKと同様。
|}
*R,L,Mは、K,C,Dより前に記述が必要。
*K,C,Dに指定のxの長さの合計はR$(0)の指定×12と一致させるのが通常だが、それより長い場合ははみ出した部分が無視され、短い場合はCで埋められる。

例
<pre>
DIM R$(6)
R$(0)="4"
'スネアドラムで タンタタ タンタタ 
R$(2)="KC11KC5KC5 KC11KC5KC5"
'次のように書いてもよい
'R$(2)="KCCCCCCCCCCC KCCCCCKCCCCC KCCCCCCCCCCC KCCCCCKCCCCC"
'シンバルを鳴らしてすぐ止める
R$(3)="KDC46"
'以上をリズム番号1として登録
CMD RHYTHM 1,R$
'演奏する。リズム番号1を2回繰り返す。FM音源は鳴らさない(休符を指定)
CMD PLAY #5,"X1X1";"R"
</pre>


<!-- 「解説」内に例が含まれている場合には、余力があれば、以下の形式に書き改めてください。

== 例 ==

<code>AUTO</code>
* 10行目から10行刻みで行番号を発生させます。
<code>AUTO 500, 5</code>
* 500行目から5行刻みで行番号を発生させます。

== プログラム例 ==

全体をpreで囲む。不等号やアンパサンドはそのまま記述可。

<pre>
10 I = 10;
20 WHILE I>0 AND I<11 
30 PRINT "HELLO! PC-8001&PC-8801&PC-9801"
40 I = I - 1
50 WEND
</pre>

-->

== 参照 ==
★★以下の参照先は、BASICリファレンス目次 http://www.cyross.com/pc8801wiki/index.php/BASIC%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9 を参照して適切な名前に修正してください。
* [[CMD PLAY]]
