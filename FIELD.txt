<!--
  http://www.cyross.com/pc8801wiki/index.php/Template:Version を参照して記述
-->

{{Version
|n =未確認
|n0=未確認
|ns=未確認
|v1=ROM-BASIC<br/>DISK-BASIC
|v2=ROM-BASIC<br/>DISK-BASIC<br/>日本語BASIC
|v3=Version 3.0<br/>Version 3.1
|n9=未確認
|86=未確認
|ms=未確認
}}

<!-- 
  http://www.cyross.com/pc8801wiki/index.php/Template:CommandCategory を参照し、
  BASICリファレンス目次 http://www.cyross.com/pc8801wiki/index.php/BASIC%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9 
  の分類にしたがって記述
-->

{{CommandCategory
|cat1=★★要記入★★
|cat2=★★要記入★★
}}

== 機能 ==
★ですます調に変更してください。
ランダムアクセスファイルのバッファにフィールドを定義

== 書式 ==
<!-- 
  ヘルプ ( http://www.cyross.com/pc8801wiki/index.php/%E3%83%98%E3%83%AB%E3%83%97 ) を参照。
  ・[A]    Aを省略可
  ・<A|B>  AまたはBを指定
  ・{A}    Aを繰り返し指定可能。省略も可。
-->

★ 書式に省略可能な繰り返し [,引数...] が含まれている場合は、{,引数} に変更してください。
FIELD [ # ] ファイル番号 , フィールド幅 AS 文字列変数 [ , フィールド幅 AS 文字列変数... ]

== 解説 ==

★なるべく、ですます調に変更してください。分量が多い場合はそのままで構いません。


ファイル番号のランダムアクセスファイルについて、ファイルバッファにフィールドを定義し、そのフィールドに文字列変数を割り当てる。 フィールドは固定長の領域で、ファイルバッファの先頭からフィールド幅(バイト)のフィールドが順に確保される。 割り当てた文字列変数を参照すると、フィールドの内容が取得できる。 また、LSET/RSETでその文字列変数に値をセットすると、フィールドに書き込まれる。文字列変数にLSET/RSET以外の手段で代入をすることはできない。A$="..."のような通常の代入を行うと、フィールドへの割り当てが解除される。

全フィールドの幅の合計は256以下とする必要がある。

同じファイル番号についてFIELD文を実行すると、以前のFIELD文での変数割り当ては残したまま、 あらためてファイルバッファの先頭からフィールドを確保し変数を割り当てる。 これを利用し、1行にすべてのフィールドが記述できない場合には複数のFIELD文に分割して次のように定義できる。 2個目のFIELD文の最初のフィールドのサイズとして、1個目のFIELD文で確保したフィールドの合計サイズを指定する。変数としては任意のダミーの変数を割り当てる。 その後に必要なフィールドを記述すれば、1個目で定義済みのフィールドの後に別のフィールドが追加できる。

ファイル番号に0を指定すると、DSKI$、DSKO$で使用されるバッファにフィールドを定義する。
<pre>
110 OPEN "2:catalog" AS #1
120 FIELD #1,16 AS KISYU$,4 AS PRICE$
130 LSET KISYU$="PC-88VA"
140 LSET PRICE$=MKS$(298000!)
150 PUT #1,1
160 GET #1,1
170 PRINT KISYU$,CVS(PRICE$)
180 CLOSE #1       
</pre>


<!-- 「解説」内に例が含まれている場合には、余力があれば、以下の形式に書き改めてください。

== 例 ==

<code>AUTO</code>
* 10行目から10行刻みで行番号を発生させます。
<code>AUTO 500, 5</code>
* 500行目から5行刻みで行番号を発生させます。

== プログラム例 ==

全体をpreで囲む。不等号やアンパサンドはそのまま記述可。

<pre>
10 I = 10;
20 WHILE I>0 AND I<11 
30 PRINT "HELLO! PC-8001&PC-8801&PC-9801"
40 I = I - 1
50 WEND
</pre>

-->

== 参照 ==
★★以下の参照先は、BASICリファレンス目次 http://www.cyross.com/pc8801wiki/index.php/BASIC%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9 を参照して適切な名前に修正してください。
* [[LSET]]
* [[RSET]]
